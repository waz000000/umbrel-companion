name Build Umbrel APK

on
  push
    branches [ main ]

jobs
  build
    name Build APK
    runs-on ubuntu-latest

    steps
    - name Checkout code
      uses actionscheckout@v3

    - name Set up JDK
      uses actionssetup-java@v3
      with
        distribution 'temurin'
        java-version '17'

    - name Build with Gradle
      run .gradlew assembleDebug

    - name Upload APK
      uses actionsupload-artifact@v3
      with
        name UmbrelCompanion-debug-apk
        path appbuildoutputsapkdebugapp-debug.apk
